## Sms-Manager  управление виртуалками в Vmware Esxi через смс

> Sms-Manager представляет собой набор скриптов, объединенных в демон непрерывно работающий в Linux, управление которым происходит с помощью смс.
> Смс пользователь отправляет с мобильного телефона, а принимает их типичный для таких сценариев [Huawei e3372h](https://market.yandex.ru/product--4g-lte-modem-huawei-e3372h-320/667862013?cpa=1)
 
 
 ## Архитектура и принцип действия

> Смс отправляется с устройства типа умных часов нажатием кнопки сос на определенный номер, номер симкарты, которая установлена в модеме. Модем с помощью openvpn туннеля связан с сервером, через этот туннель, с помощью api модема смс менеджер через промежутки времени (30 сек по умолчанию, устанавливается в sms-diver.sh) производит опрос модема на предмет новых смс. При поступлении смс она проверяется на соответствие условиям - номеру/содержанию (все эти условия задаются как переменные в начале скрипта) и если она удовлетворяет условиям - на хост с ESXI по ssh отправляется команда о перезагрузке\остановке виртуальной машины.  

> На рисунке изображены связи участников схемы между собой
![sms-manager](https://user-images.githubusercontent.com/121182772/209686208-5942d2be-b282-4fa1-aeef-53c48e2aec27.png)




